{"version":3,"file":"context-store.js","sourceRoot":"","sources":["../src/context-store.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,gBAAgB,EAAE,MAAM,0CAA0C,CAAC;AAC5E,OAAO,EAAE,sBAAsB,EAAE,MAAM,4BAA4B,CAAC;AAGpE,MAAM,UAAU,YAAY,CAAS,EACnC,OAAO,EACP,WAAW,GAIZ;IAMC,OAAO,gBAAgB,CAAC;QACtB,QAAQ,EAAE,CAAC,IAA4B,EAAE,IAAiB,EAAE,EAAE;YAC5D,IAAI,CAAC,cAAc,CAAC,CAAC,OAAwB,EAAQ,EAAE;gBACrD,OAAO,CAAC,aAAa,CACnB,IAAI,sBAAsB,CACxB,OAAO,EACP,OAAO,EACP,CAAC,KAAQ,EAAE,EAAE;oBACX,wGAAwG;oBACvG,OAAe,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;gBACjC,CAAC,EACD,WAAW,CACZ,CACF,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,CAAC;KACF,CAAC,CAAC;AACL,CAAC","sourcesContent":["import { ReactiveElement } from \"@lit/reactive-element\";\nimport { Readable } from \"svelte/store\";\nimport { decorateProperty } from \"@lit/reactive-element/decorators/base.js\";\nimport { ContextStoreController } from \"./context-store-controller\";\nimport { Context } from \"@lit-labs/context\";\n\nexport function contextStore<V, Ctx>({\n  context,\n  selectStore,\n}: {\n  context: Context<Ctx>;\n  selectStore?: (context: Ctx) => Readable<V>;\n}): <K extends PropertyKey>(\n  protoOrDescriptor: ReactiveElement & Record<K, V>,\n  name?: K\n  // Note TypeScript requires the return type to be `void|any`\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n) => void | any {\n  return decorateProperty({\n    finisher: (ctor: typeof ReactiveElement, name: PropertyKey) => {\n      ctor.addInitializer((element: ReactiveElement): void => {\n        element.addController(\n          new ContextStoreController(\n            element,\n            context,\n            (value: V) => {\n              // eslint-disable-next-line @typescript-eslint/no-explicit-any -- have to force the property on the type\n              (element as any)[name] = value;\n            },\n            selectStore\n          )\n        );\n      });\n    },\n  });\n}\n"]}