import { ContextConsumer } from "@lit-labs/context";
import { StoreController } from "./store-controller";
export class ContextStoreController extends ContextConsumer {
    constructor(host, context, callback, selectStore) {
        super(host, context, (value) => {
            if (this.storeController) {
                this.storeController._unsubscribe();
            }
            let store = value;
            if (selectStore)
                store = selectStore(value);
            this.storeController = new StoreController(host, store, callback);
        });
    }
    get value() {
        return this.storeController.value;
    }
}
//# sourceMappingURL=context-store-controller.js.map