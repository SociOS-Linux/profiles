{"version":3,"file":"list-profiles.js","sourceRoot":"","sources":["../../src/elements/list-profiles.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AAE1C,OAAO,EAAmB,YAAY,EAAE,MAAM,mBAAmB,CAAC;AAClE,OAAO,EAAE,mBAAmB,EAAE,MAAM,0BAA0B,CAAC;AAC/D,OAAO,EAAE,eAAe,EAAE,MAAM,mBAAmB,CAAC;AACpD,OAAO,EACL,gBAAgB,EAChB,QAAQ,EACR,IAAI,GACL,MAAM,+BAA+B,CAAC;AAEvC,OAAO,EAAE,YAAY,EAAE,MAAM,uBAAuB,CAAC;AAErD,OAAO,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACjD,OAAO,EAAE,oBAAoB,EAAE,MAAM,YAAY,CAAC;AAIlD,MAAM,OAAO,YAAa,SAAQ,mBAAmB,CAAC,UAAU,CAAC;IAAjE;QACE,mBAAmB;;QAKnB,yBAAyB;QAGzB,aAAQ,GAAG,IAAI,CAAC;IAqElB,CAAC;IA7DC,KAAK,CAAC,YAAY;QAChB,MAAM,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC;QACrC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IACxB,CAAC;IAED,QAAQ,CAAC,QAAgB;QACvB,OAAO,QAAQ;aACZ,KAAK,CAAC,GAAG,CAAC;aACV,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aACpB,IAAI,CAAC,EAAE,CAAC,CAAC;IACd,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,QAAQ;YACf,OAAO,IAAI,CAAA;;aAEJ,CAAC;QAEV,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,KAAK,CAAC;YAC7C,OAAO,IAAI,CAAA;;QAET,CAAC;QAEL,OAAO,IAAI,CAAA;;UAEL,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,GAAG,CACrC,CAAC,CAAC,aAAa,EAAE,OAAO,CAAC,EAAE,EAAE,CAAC,IAAI,CAAA;;;uBAGrB,aAAa;;;;;wBAKZ,aAAa;;gDAEW,OAAO,CAAC,QAAQ;;WAErD,CACF;;KAEJ,CAAC;IACJ,CAAC;IAWD,MAAM,KAAK,cAAc;QACvB,OAAO;YACL,gBAAgB,EAAE,aAAa;YAC/B,uBAAuB,EAAE,gBAAgB;YACzC,UAAU,EAAE,IAAI;YAChB,eAAe,EAAE,QAAQ;SAC1B,CAAC;IACJ,CAAC;;AAhBM,mBAAM,GAAG;IACd,YAAY;IACZ,GAAG,CAAA;;;;KAIF;CACF,CAAC;AAhEF;IADC,eAAe,CAAC,EAAE,OAAO,EAAE,oBAAoB,EAAE,CAAC;4CAC5B;AAKvB;IADC,KAAK,EAAE;8CACQ;AAMhB;IAJC,YAAY,CAAC;QACZ,OAAO,EAAE,oBAAoB;QAC7B,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,aAAa;KAClC,CAAC;kDACiC","sourcesContent":["import { css, html, LitElement } from 'lit';\nimport { state } from 'lit/decorators.js';\n\nimport { StoreController, contextStore } from 'lit-svelte-stores';\nimport { ScopedElementsMixin } from '@open-wc/scoped-elements';\nimport { contextProvided } from '@lit-labs/context';\nimport {\n  CircularProgress,\n  ListItem,\n  List,\n} from '@scoped-elements/material-web';\n\nimport { sharedStyles } from './utils/shared-styles';\nimport { ProfilesStore } from '../profiles-store';\nimport { HoloIdenticon } from './holo-identicon';\nimport { profilesStoreContext } from '../context';\nimport { Dictionary } from '@holochain-open-dev/core-types';\nimport { Profile } from '../types';\n\nexport class ListProfiles extends ScopedElementsMixin(LitElement) {\n  /** Dependencies */\n\n  @contextProvided({ context: profilesStoreContext })\n  _store!: ProfilesStore;\n\n  /** Private properties */\n\n  @state()\n  _loading = true;\n\n  @contextStore({\n    context: profilesStoreContext,\n    selectStore: s => s.knownProfiles,\n  })\n  _allProfiles!: Dictionary<Profile>;\n\n  async firstUpdated() {\n    await this._store.fetchAllProfiles();\n    this._loading = false;\n  }\n\n  initials(nickname: string): string {\n    return nickname\n      .split(' ')\n      .map(name => name[0])\n      .join('');\n  }\n\n  render() {\n    if (this._loading)\n      return html`<div class=\"fill center-content\">\n        <mwc-circular-progress indeterminate></mwc-circular-progress>\n      </div>`;\n\n    if (Object.keys(this._allProfiles).length === 0)\n      return html`<mwc-list-item\n        >There are no created profiles yet</mwc-list-item\n      >`;\n\n    return html`\n      <mwc-list style=\"min-width: 80px;\">\n        ${Object.entries(this._allProfiles).map(\n          ([agent_pub_key, profile]) => html`\n            <mwc-list-item\n              graphic=\"avatar\"\n              .value=${agent_pub_key}\n              style=\"--mdc-list-item-graphic-size: 32px;\"\n            >\n              <holo-identicon\n                slot=\"graphic\"\n                .hash=${agent_pub_key}\n              ></holo-identicon>\n              <span style=\"margin-left: 8px;\">${profile.nickname}</span>\n            </mwc-list-item>\n          `\n        )}\n      </mwc-list>\n    `;\n  }\n\n  static styles = [\n    sharedStyles,\n    css`\n      :host {\n        display: flex;\n      }\n    `,\n  ];\n\n  static get scopedElements() {\n    return {\n      'holo-identicon': HoloIdenticon,\n      'mwc-circular-progress': CircularProgress,\n      'mwc-list': List,\n      'mwc-list-item': ListItem,\n    };\n  }\n}\n"]}