{"version":3,"file":"list-profiles.js","sourceRoot":"","sources":["../../src/elements/list-profiles.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AAChC,OAAO,EAAY,KAAK,EAAE,MAAM,mBAAmB,CAAC;AAEpD,OAAO,EAAE,cAAc,EAAE,MAAM,iBAAiB,CAAC;AACjD,OAAO,EAAE,mBAAmB,EAAE,MAAM,0BAA0B,CAAC;AAC/D,OAAO,EAAE,cAAc,EAAE,MAAM,6BAA6B,CAAC;AAC7D,OAAO,EAAE,IAAI,EAAE,MAAM,qCAAqC,CAAC;AAC3D,OAAO,EAAE,QAAQ,EAAE,MAAM,0CAA0C,CAAC;AACpE,OAAO,EAAE,gBAAgB,EAAE,MAAM,kDAAkD,CAAC;AAEpF,OAAO,EAAE,YAAY,EAAE,MAAM,uBAAuB,CAAC;AAErD,OAAO,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AAEjD,MAAM,OAAO,YAAa,SAAQ,mBAAmB,CAAC,cAAc,CAAC;IAArE;QACE,yBAAyB;;QAGzB,aAAQ,GAAG,IAAI,CAAC;IAmElB,CAAC;IA9DC,KAAK,CAAC,YAAY;QAChB,MAAM,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC;QACrC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IACxB,CAAC;IAED,QAAQ,CAAC,QAAgB;QACvB,OAAO,QAAQ;aACZ,KAAK,CAAC,GAAG,CAAC;aACV,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aACpB,IAAI,CAAC,EAAE,CAAC,CAAC;IACd,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,QAAQ;YACf,OAAO,IAAI,CAAA;;aAEJ,CAAC;QACV,MAAM,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;QAEzC,IAAI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,MAAM,KAAK,CAAC;YACvC,OAAO,IAAI,CAAA;;QAET,CAAC;QAEL,OAAO,IAAI,CAAA;;UAEL,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,GAAG,CAC/B,CAAC,CAAC,aAAa,EAAE,OAAO,CAAC,EAAE,EAAE,CAAC,IAAI,CAAA;;;uBAGrB,aAAa;;;;;wBAKZ,aAAa;;gDAEW,OAAO,CAAC,QAAQ;;WAErD,CACF;;KAEJ,CAAC;IACJ,CAAC;IAWD,MAAM,KAAK,cAAc;QACvB,OAAO;YACL,gBAAgB,EAAE,aAAa;YAC/B,uBAAuB,EAAE,gBAAgB;YACzC,UAAU,EAAE,IAAI;YAChB,eAAe,EAAE,QAAQ;SAC1B,CAAC;IACJ,CAAC;;AAhBM,mBAAM,GAAG;IACd,YAAY;IACZ,GAAG,CAAA;;;;KAIF;CACF,CAAC;AAzDF;IADC,KAAK,EAAE;8CACQ;AAGhB;IADC,cAAc,CAAC,wBAAwB,CAAC;4CAClB","sourcesContent":["import { css, html } from 'lit';\nimport { property, state } from 'lit/decorators.js';\n\nimport { MobxLitElement } from '@adobe/lit-mobx';\nimport { ScopedElementsMixin } from '@open-wc/scoped-elements';\nimport { requestContext } from '@holochain-open-dev/context';\nimport { List } from 'scoped-material-components/mwc-list';\nimport { ListItem } from 'scoped-material-components/mwc-list-item';\nimport { CircularProgress } from 'scoped-material-components/mwc-circular-progress';\n\nimport { sharedStyles } from './utils/shared-styles';\nimport { ProfilesStore } from '../profiles.store';\nimport { HoloIdenticon } from './holo-identicon';\n\nexport class ListProfiles extends ScopedElementsMixin(MobxLitElement) {\n  /** Private properties */\n\n  @state()\n  _loading = true;\n\n  @requestContext('hc_zome_profiles/store')\n  _store!: ProfilesStore;\n\n  async firstUpdated() {\n    await this._store.fetchAllProfiles();\n    this._loading = false;\n  }\n\n  initials(nickname: string): string {\n    return nickname\n      .split(' ')\n      .map(name => name[0])\n      .join('');\n  }\n\n  render() {\n    if (this._loading)\n      return html`<div class=\"fill center-content\">\n        <mwc-circular-progress indeterminate></mwc-circular-progress>\n      </div>`;\n    const allProfiles = this._store.profiles;\n\n    if (Object.keys(allProfiles).length === 0)\n      return html`<mwc-list-item\n        >There are no created profiles yet</mwc-list-item\n      >`;\n\n    return html`\n      <mwc-list style=\"min-width: 80px;\">\n        ${Object.entries(allProfiles).map(\n          ([agent_pub_key, profile]) => html`\n            <mwc-list-item\n              graphic=\"avatar\"\n              .value=${agent_pub_key}\n              style=\"--mdc-list-item-graphic-size: 32px;\"\n            >\n              <holo-identicon\n                slot=\"graphic\"\n                .hash=${agent_pub_key}\n              ></holo-identicon>\n              <span style=\"margin-left: 8px;\">${profile.nickname}</span>\n            </mwc-list-item>\n          `\n        )}\n      </mwc-list>\n    `;\n  }\n\n  static styles = [\n    sharedStyles,\n    css`\n      :host {\n        display: flex;\n      }\n    `,\n  ];\n\n  static get scopedElements() {\n    return {\n      'holo-identicon': HoloIdenticon,\n      'mwc-circular-progress': CircularProgress,\n      'mwc-list': List,\n      'mwc-list-item': ListItem,\n    };\n  }\n}\n"]}